<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Generate a signed JWT</title>
</head>
<body>
<form method="POST" id="jwt" enctype="multipart/form-data">
  <label>Subject:<br />
    <input type="text" name="sub" value="{{ .Subject }}" />
  </label><br />
  <hr />
  <label>Scope:<br />
    <input type="text" name="scope" value="{{ .Scope }}" />
  </label><br />
  <label>IssuedAt:<br />
    <input type="number" name="iat" value="{{ .IssuedAt }}" />
  </label><br />
  <label>Expiry:<br />
    <input type="number" name="exp" value="{{ .Expiry }}" />
  </label><br />
  <hr />
  <label>Issuer:<br />
    <input type="text" name="iss" value="{{ .Issuer }}" />
  </label><br />
  <label>AuthorizingParty:<br />
    <input type="text" name="azp" value="{{ .AuthorizingParty }}" />
  </label><br />
  <label>Audience:<br />
    <input type="text" name="aud" value="{{ .Audience }}" />
  </label><br />
  <hr />
  <input type="submit" value="Submit" />
  <p id="info"></p>
</form>
<script>
  const params = new URLSearchParams(document.location.search);
  const redirect_uri = params.get("redirect_uri");
  if (redirect_uri === null) {
    document.getElementById("info").innerHTML =
            "No `redirect_uri` query param - submitting this form will respond with the signed JWT";
  } else {
    document.getElementById("info").innerHTML =
            "`redirect_uri` present - submitting this form will redirect to " +
            redirect_uri;
  }
</script>
</body>
</html>
